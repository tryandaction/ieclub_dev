# IEClub è¶…çº§è¯¦ç»†å¼€å‘è§„åˆ’

**ç‰ˆæœ¬**: v2.0.0  
**åˆ¶å®šæ—¶é—´**: 2025-10-29  
**åˆ¶å®šäºº**: äº§å“å›¢é˜Ÿ + æŠ€æœ¯å›¢é˜Ÿ  
**é¢„è®¡å®Œæˆæ—¶é—´**: 2025-11-19 (3å‘¨)

---

## ğŸ“Š ç¬¬ä¸€éƒ¨åˆ†ï¼šç°çŠ¶åˆ†æ

### âœ… å·²å®Œæˆå·¥ä½œ

#### 1. åç«¯æœåŠ¡ (å®Œæˆåº¦: 80%)

**æŠ€æœ¯æ ˆ**:
- âœ… Express 4.18.2
- âœ… Prisma 5.8.0 ORM
- âœ… MySQL 8.0+ æ•°æ®åº“
- âœ… JWT è®¤è¯
- âœ… WebSocket å®æ—¶é€šä¿¡
- âœ… Redis ç¼“å­˜

**å·²å®ç°åŠŸèƒ½**:
- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆæ³¨å†Œã€ç™»å½•ã€å¯†ç é‡ç½®ï¼‰
- âœ… è¯é¢˜ç®¡ç†ï¼ˆCRUDã€ç‚¹èµã€æ”¶è—ï¼‰
- âœ… è¯„è®ºç³»ç»Ÿï¼ˆå‘è¡¨ã€ç‚¹èµã€å›å¤ï¼‰
- âœ… ç”¨æˆ·ç³»ç»Ÿï¼ˆèµ„æ–™ã€å…³æ³¨ã€ç²‰ä¸ï¼‰
- âœ… æœç´¢åŠŸèƒ½ï¼ˆè¯é¢˜æœç´¢ã€ç”¨æˆ·æœç´¢ï¼‰
- âœ… é€šçŸ¥ç³»ç»Ÿï¼ˆç‚¹èµã€è¯„è®ºã€å…³æ³¨é€šçŸ¥ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ ï¼ˆå›¾ç‰‡ã€æ–‡æ¡£ï¼‰
- âœ… æ´»åŠ¨ç®¡ç†ï¼ˆåŸºç¡€ç»“æ„ï¼‰

**æ•°æ®åº“æ¨¡å‹**:
```
âœ… User         - ç”¨æˆ·è¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Topic        - è¯é¢˜è¡¨ï¼ˆå®Œæ•´ï¼Œæ”¯æŒ3ç§ç±»å‹ï¼‰
âœ… Comment      - è¯„è®ºè¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Like         - ç‚¹èµè¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Bookmark     - æ”¶è—è¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Follow       - å…³æ³¨è¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Notification - é€šçŸ¥è¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Activity     - æ´»åŠ¨è¡¨ï¼ˆå®Œæ•´ï¼‰
âœ… Project      - é¡¹ç›®è¡¨ï¼ˆå®Œæ•´ï¼‰
```

#### 2. å‰ç«¯æ¡†æ¶ (å®Œæˆåº¦: 50%)

**ç½‘é¡µç‰ˆ (ieclub-web)**:
- âœ… React 18 + Vite
- âœ… Tailwind CSS
- âœ… React Router 6
- âœ… API è¯·æ±‚å°è£…å®Œæˆ
- âœ… 5ä¸ªæ ¸å¿ƒé¡µé¢å¸ƒå±€
- â¸ï¸ æ•°æ®å¯¹æ¥ï¼ˆå¾…å®Œæˆï¼‰
- â¸ï¸ è¯¦æƒ…é¡µï¼ˆå¾…å®Œæˆï¼‰

**å°ç¨‹åºç‰ˆ (ieclub-taro)**:
- âœ… åŸç”Ÿå¾®ä¿¡å°ç¨‹åº
- âœ… API è¯·æ±‚å°è£…å®Œæˆ
- âœ… 5ä¸ªæ ¸å¿ƒé¡µé¢å¸ƒå±€
- â¸ï¸ æ•°æ®å¯¹æ¥ï¼ˆå¾…å®Œæˆï¼‰
- â¸ï¸ è¯¦æƒ…é¡µï¼ˆå¾…å®Œæˆï¼‰

#### 3. åŸºç¡€è®¾æ–½

- âœ… Docker å®¹å™¨åŒ–
- âœ… Nginx åå‘ä»£ç†é…ç½®
- âœ… MySQL æ•°æ®åº“é…ç½®
- âœ… Redis ç¼“å­˜é…ç½®
- âœ… æ—¥å¿—ç³»ç»Ÿï¼ˆWinstonï¼‰
- âœ… æµ‹è¯•æ¡†æ¶ï¼ˆJestï¼‰

---

### ğŸ¯ éœ€è¦å®Œæˆçš„å·¥ä½œ

#### ä¼˜å…ˆçº§åˆ†çº§

**P0 - æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¿…é¡»æœ‰ï¼‰**:
1. ç”¨æˆ·ç™»å½•/æ³¨å†Œï¼ˆåŒç«¯ï¼‰
2. è¯é¢˜å‘å¸ƒåŠŸèƒ½
3. è¯é¢˜åˆ—è¡¨å±•ç¤º
4. è¯é¢˜è¯¦æƒ…é¡µ
5. ç‚¹èµåŠŸèƒ½
6. è¯„è®ºåŠŸèƒ½
7. ç”¨æˆ·å…³æ³¨åŠŸèƒ½

**P1 - é‡è¦åŠŸèƒ½ï¼ˆåº”è¯¥æœ‰ï¼‰**:
1. æ´»åŠ¨æŠ¥ååŠŸèƒ½
2. æœç´¢åŠŸèƒ½
3. æ¶ˆæ¯é€šçŸ¥
4. ä¸ªäººä¸­å¿ƒå®Œå–„
5. å›¾ç‰‡ä¸Šä¼ 
6. ä¸‹æ‹‰åˆ·æ–°/ä¸Šæ‹‰åŠ è½½

**P2 - å¢å¼ºåŠŸèƒ½ï¼ˆå¯ä»¥æœ‰ï¼‰**:
1. æ’è¡Œæ¦œ
2. å‹‹ç« ç³»ç»Ÿ
3. æ•°æ®ç»Ÿè®¡
4. åˆ†äº«åŠŸèƒ½
5. ä¸¾æŠ¥åŠŸèƒ½

---

## ğŸ“… ç¬¬äºŒéƒ¨åˆ†ï¼š3å‘¨å¼€å‘è®¡åˆ’

### Week 1: åŸºç¡€åŠŸèƒ½ï¼ˆ11.29 - 11.04ï¼‰

#### Day 1-2: API å¯¹æ¥å‡†å¤‡ âœ… **å·²å®Œæˆ**

**å®Œæˆå†…å®¹**:
- âœ… ç½‘é¡µç‰ˆè¯·æ±‚å°è£…ï¼ˆ`ieclub-web/src/utils/request.js`ï¼‰
- âœ… å°ç¨‹åºè¯·æ±‚å°è£…ï¼ˆ`ieclub-taro/utils/request.js`ï¼‰
- âœ… API æ¨¡å—åŒ–ï¼ˆauth.js, topic.js, user.jsï¼‰
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… Token è‡ªåŠ¨æ³¨å…¥

#### Day 3: ç”¨æˆ·ç™»å½• - å°ç¨‹åºç‰ˆ ğŸ”¥ **ä»Šå¤©å¼€å§‹**

**ç›®æ ‡**: å®ç°å°ç¨‹åºå¾®ä¿¡æˆæƒç™»å½•

**ä»»åŠ¡æ¸…å•**:

**1. åˆ›å»ºç™»å½•é¡µé¢**

æ–‡ä»¶: `ieclub-taro/pages/login/index.js`

```javascript
// pages/login/index.js
import { wechatLogin } from '../../api/auth'

Page({
  data: {
    userInfo: null,
    hasUserInfo: false,
    canIUseGetUserProfile: wx.canIUse('getUserProfile')
  },

  onLoad() {
    console.log('ç™»å½•é¡µåŠ è½½')
    // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
    const token = wx.getStorageSync('token')
    if (token) {
      wx.reLaunch({
        url: '/pages/plaza/index'
      })
    }
  },

  // å¾®ä¿¡æˆæƒç™»å½•
  async onWechatLogin() {
    try {
      // 1. è·å–ç”¨æˆ·æˆæƒä¿¡æ¯
      const { userInfo } = await this.getUserProfile()
      
      // 2. è·å–å¾®ä¿¡ç™»å½•å‡­è¯
      const { code } = await this.getWxCode()
      
      // 3. è°ƒç”¨åç«¯ç™»å½•æ¥å£
      const result = await wechatLogin({
        code,
        userInfo
      })
      
      // 4. ä¿å­˜ Token å’Œç”¨æˆ·ä¿¡æ¯
      wx.setStorageSync('token', result.token)
      wx.setStorageSync('userInfo', result.user)
      
      // 5. è·³è½¬åˆ°é¦–é¡µ
      wx.showToast({
        title: 'ç™»å½•æˆåŠŸ',
        icon: 'success'
      })
      
      setTimeout(() => {
        wx.reLaunch({
          url: '/pages/plaza/index'
        })
      }, 1500)
      
    } catch (error) {
      console.error('ç™»å½•å¤±è´¥:', error)
      wx.showToast({
        title: error.message || 'ç™»å½•å¤±è´¥',
        icon: 'none'
      })
    }
  },

  // è·å–ç”¨æˆ·æˆæƒä¿¡æ¯
  getUserProfile() {
    return new Promise((resolve, reject) => {
      if (this.data.canIUseGetUserProfile) {
        wx.getUserProfile({
          desc: 'ç”¨äºå®Œå–„ä¼šå‘˜èµ„æ–™',
          success: resolve,
          fail: reject
        })
      } else {
        reject(new Error('å½“å‰å¾®ä¿¡ç‰ˆæœ¬è¿‡ä½'))
      }
    })
  },

  // è·å–å¾®ä¿¡ç™»å½•å‡­è¯
  getWxCode() {
    return new Promise((resolve, reject) => {
      wx.login({
        success: resolve,
        fail: reject
      })
    })
  }
})
```

æ–‡ä»¶: `ieclub-taro/pages/login/index.wxml`

```xml
<!--pages/login/index.wxml-->
<view class="login-page">
  <view class="login-container">
    <!-- Logo åŒºåŸŸ -->
    <view class="logo-section">
      <view class="logo">IE</view>
      <text class="app-name">IEClub</text>
      <text class="slogan">åˆ›é€ çº¿ä¸Šçº¿ä¸‹äº¤äº’çš„æ— é™å¯èƒ½</text>
    </view>

    <!-- åŠŸèƒ½ä»‹ç» -->
    <view class="features">
      <view class="feature-item">
        <text class="feature-icon">ğŸ¤</text>
        <text class="feature-label">æˆ‘æ¥è®²</text>
        <text class="feature-desc">åˆ†äº«çŸ¥è¯†</text>
      </view>
      <view class="feature-item">
        <text class="feature-icon">ğŸ‘‚</text>
        <text class="feature-label">æƒ³å¬</text>
        <text class="feature-desc">å­¦ä¹ éœ€æ±‚</text>
      </view>
      <view class="feature-item">
        <text class="feature-icon">ğŸš€</text>
        <text class="feature-label">é¡¹ç›®</text>
        <text class="feature-desc">åˆ›ä¸šå®£ä¼ </text>
      </view>
    </view>

    <!-- ç™»å½•æŒ‰é’® -->
    <button class="login-btn" bindtap="onWechatLogin">
      <text class="btn-icon">ğŸ‘¤</text>
      <text class="btn-text">å¾®ä¿¡æˆæƒç™»å½•</text>
    </button>

    <!-- åè®®è¯´æ˜ -->
    <view class="agreement">
      <text class="agreement-text">ç™»å½•å³è¡¨ç¤ºåŒæ„</text>
      <text class="agreement-link">ã€Šç”¨æˆ·åè®®ã€‹</text>
      <text class="agreement-text">å’Œ</text>
      <text class="agreement-link">ã€Šéšç§æ”¿ç­–ã€‹</text>
    </view>
  </view>
</view>
```

æ–‡ä»¶: `ieclub-taro/pages/login/index.wxss`

```css
/* pages/login/index.wxss */
.login-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 60rpx 40rpx;
}

.login-container {
  width: 100%;
}

/* Logo åŒºåŸŸ */
.logo-section {
  text-align: center;
  margin-bottom: 80rpx;
}

.logo {
  width: 160rpx;
  height: 160rpx;
  line-height: 160rpx;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 40rpx;
  margin: 0 auto 30rpx;
  font-size: 72rpx;
  font-weight: bold;
  color: #667eea;
  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);
}

.app-name {
  display: block;
  font-size: 48rpx;
  font-weight: bold;
  color: #fff;
  margin-bottom: 16rpx;
}

.slogan {
  display: block;
  font-size: 26rpx;
  color: rgba(255, 255, 255, 0.85);
}

/* åŠŸèƒ½ä»‹ç» */
.features {
  display: flex;
  justify-content: space-around;
  margin-bottom: 80rpx;
}

.feature-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 30rpx 20rpx;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10rpx);
  border-radius: 20rpx;
  min-width: 180rpx;
}

.feature-icon {
  font-size: 60rpx;
  margin-bottom: 12rpx;
}

.feature-label {
  font-size: 28rpx;
  font-weight: bold;
  color: #fff;
  margin-bottom: 8rpx;
}

.feature-desc {
  font-size: 22rpx;
  color: rgba(255, 255, 255, 0.8);
}

/* ç™»å½•æŒ‰é’® */
.login-btn {
  width: 100%;
  padding: 32rpx 0;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 100rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.2);
  margin-bottom: 40rpx;
}

.login-btn:active {
  opacity: 0.9;
  transform: scale(0.98);
}

.btn-icon {
  font-size: 36rpx;
  margin-right: 12rpx;
}

.btn-text {
  font-size: 32rpx;
  font-weight: bold;
  color: #667eea;
}

/* åè®®è¯´æ˜ */
.agreement {
  text-align: center;
  font-size: 22rpx;
  color: rgba(255, 255, 255, 0.7);
}

.agreement-text {
  color: rgba(255, 255, 255, 0.7);
}

.agreement-link {
  color: #fff;
  text-decoration: underline;
}
```

æ–‡ä»¶: `ieclub-taro/pages/login/index.json`

```json
{
  "navigationBarTitleText": "ç™»å½•",
  "navigationStyle": "custom",
  "usingComponents": {}
}
```

**2. æ›´æ–° app.json**

æ·»åŠ ç™»å½•é¡µåˆ°é¡µé¢åˆ—è¡¨ï¼š

```json
{
  "pages": [
    "pages/login/index",
    "pages/plaza/index",
    "pages/community/index",
    "pages/publish/index",
    "pages/activities/index",
    "pages/profile/index"
  ]
}
```

**3. æ›´æ–°åç«¯ç™»å½•æ¥å£**

æ£€æŸ¥ `ieclub-backend/src/controllers/authController.js` æ˜¯å¦æ”¯æŒå¾®ä¿¡ç™»å½•ã€‚

å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦æ·»åŠ ï¼š

```javascript
// å¾®ä¿¡å°ç¨‹åºç™»å½•
static async wechatLogin(req, res, next) {
  try {
    const { code, userInfo } = req.body

    // 1. ç”¨å¾®ä¿¡codeæ¢å– openid å’Œ session_key
    const wxLoginUrl = `https://api.weixin.qq.com/sns/jscode2session?appid=${process.env.WX_APP_ID}&secret=${process.env.WX_APP_SECRET}&js_code=${code}&grant_type=authorization_code`
    
    const wxResponse = await axios.get(wxLoginUrl)
    const { openid, session_key, unionid } = wxResponse.data
    
    if (!openid) {
      throw new Error('å¾®ä¿¡ç™»å½•å¤±è´¥')
    }

    // 2. æŸ¥æ‰¾æˆ–åˆ›å»ºç”¨æˆ·
    let user = await prisma.user.findUnique({
      where: { openid }
    })

    if (!user) {
      // åˆ›å»ºæ–°ç”¨æˆ·
      user = await prisma.user.create({
        data: {
          openid,
          unionid,
          sessionKey: session_key,
          nickname: userInfo.nickName,
          avatar: userInfo.avatarUrl,
          gender: userInfo.gender
        }
      })
    } else {
      // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
      user = await prisma.user.update({
        where: { id: user.id },
        data: {
          sessionKey: session_key,
          nickname: userInfo.nickName,
          avatar: userInfo.avatarUrl,
          lastLoginAt: new Date()
        }
      })
    }

    // 3. ç”Ÿæˆ JWT Token
    const token = jwt.sign(
      { userId: user.id, openid: user.openid },
      process.env.JWT_SECRET,
      { expiresIn: '30d' }
    )

    res.json({
      code: 200,
      message: 'ç™»å½•æˆåŠŸ',
      data: {
        token,
        user: {
          id: user.id,
          nickname: user.nickname,
          avatar: user.avatar,
          level: user.level
        }
      }
    })
  } catch (error) {
    next(error)
  }
}
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç”¨æˆ·å¯ä»¥ç‚¹å‡»ç™»å½•æŒ‰é’®
- âœ… å¾®ä¿¡æˆæƒå¼¹çª—æ­£å¸¸æ˜¾ç¤º
- âœ… ç™»å½•æˆåŠŸåä¿å­˜ Token
- âœ… è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
- âœ… Token è¿‡æœŸåè‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

---

#### Day 4: ç”¨æˆ·ç™»å½• - ç½‘é¡µç‰ˆ

**ç›®æ ‡**: å®ç°ç½‘é¡µç‰ˆæ‰‹æœºå·éªŒè¯ç ç™»å½•

**ä»»åŠ¡æ¸…å•**:

**1. åˆ›å»ºç™»å½•é¡µé¢**

æ–‡ä»¶: `ieclub-web/src/pages/Login.jsx`

```javascript
import { useState } from 'react'
import { useNavigate } from 'react-router-dom'
import { sendCode, login } from '../api/auth'

export default function Login() {
  const navigate = useNavigate()
  const [phone, setPhone] = useState('')
  const [code, setCode] = useState('')
  const [countdown, setCountdown] = useState(0)
  const [loading, setLoading] = useState(false)

  // å‘é€éªŒè¯ç 
  const handleSendCode = async () => {
    if (!phone || !/^1[3-9]\d{9}$/.test(phone)) {
      alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·')
      return
    }

    if (countdown > 0) return

    try {
      await sendCode(phone)
      alert('éªŒè¯ç å·²å‘é€')
      // å¼€å§‹å€’è®¡æ—¶
      setCountdown(60)
      const timer = setInterval(() => {
        setCountdown(prev => {
          if (prev <= 1) {
            clearInterval(timer)
            return 0
          }
          return prev - 1
        })
      }, 1000)
    } catch (error) {
      alert(error.message)
    }
  }

  // ç™»å½•
  const handleLogin = async (e) => {
    e.preventDefault()

    if (!phone || !code) {
      alert('è¯·è¾“å…¥æ‰‹æœºå·å’ŒéªŒè¯ç ')
      return
    }

    setLoading(true)
    try {
      const result = await login(phone, code)
      // ä¿å­˜ Token å’Œç”¨æˆ·ä¿¡æ¯
      localStorage.setItem('token', result.token)
      localStorage.setItem('userInfo', JSON.stringify(result.user))
      // è·³è½¬åˆ°é¦–é¡µ
      navigate('/plaza')
    } catch (error) {
      alert(error.message)
    } finally {
      setLoading(false)
    }
  }

  return (
    <div className="min-h-screen bg-gradient-primary flex items-center justify-center px-6">
      <div className="w-full max-w-md">
        {/* Logo åŒºåŸŸ */}
        <div className="text-center mb-12">
          <div className="w-20 h-20 bg-white rounded-2xl mx-auto mb-4 flex items-center justify-center">
            <span className="text-4xl font-bold text-purple-600">IE</span>
          </div>
          <h1 className="text-4xl font-bold text-white mb-2">IEClub</h1>
          <p className="text-white/80 text-sm">åˆ›é€ çº¿ä¸Šçº¿ä¸‹äº¤äº’çš„æ— é™å¯èƒ½</p>
        </div>

        {/* ç™»å½•è¡¨å• */}
        <form onSubmit={handleLogin} className="bg-white rounded-3xl p-8 shadow-2xl">
          <h2 className="text-2xl font-bold text-gray-900 mb-6">æ‰‹æœºå·ç™»å½•</h2>

          {/* æ‰‹æœºå·è¾“å…¥ */}
          <div className="mb-4">
            <label className="block text-sm font-medium text-gray-700 mb-2">
              æ‰‹æœºå·
            </label>
            <input
              type="tel"
              value={phone}
              onChange={(e) => setPhone(e.target.value)}
              placeholder="è¯·è¾“å…¥æ‰‹æœºå·"
              className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500"
            />
          </div>

          {/* éªŒè¯ç è¾“å…¥ */}
          <div className="mb-6">
            <label className="block text-sm font-medium text-gray-700 mb-2">
              éªŒè¯ç 
            </label>
            <div className="flex gap-3">
              <input
                type="text"
                value={code}
                onChange={(e) => setCode(e.target.value)}
                placeholder="è¯·è¾“å…¥éªŒè¯ç "
                className="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
              <button
                type="button"
                onClick={handleSendCode}
                disabled={countdown > 0}
                className="px-6 py-3 bg-purple-100 text-purple-600 rounded-xl font-medium disabled:opacity-50"
              >
                {countdown > 0 ? `${countdown}s` : 'è·å–éªŒè¯ç '}
              </button>
            </div>
          </div>

          {/* ç™»å½•æŒ‰é’® */}
          <button
            type="submit"
            disabled={loading}
            className="w-full bg-gradient-primary text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50"
          >
            {loading ? 'ç™»å½•ä¸­...' : 'ç™»å½•'}
          </button>

          {/* åè®® */}
          <p className="text-xs text-gray-500 text-center mt-6">
            ç™»å½•å³è¡¨ç¤ºåŒæ„
            <a href="#" className="text-purple-600">ã€Šç”¨æˆ·åè®®ã€‹</a>
            å’Œ
            <a href="#" className="text-purple-600">ã€Šéšç§æ”¿ç­–ã€‹</a>
          </p>
        </form>
      </div>
    </div>
  )
}
```

**2. æ·»åŠ è·¯ç”±**

åœ¨ `ieclub-web/src/App.jsx` ä¸­æ·»åŠ ç™»å½•è·¯ç”±ï¼š

```javascript
import Login from './pages/Login'

function App() {
  return (
    <Routes>
      <Route path="/login" element={<Login />} />
      <Route path="/" element={<Layout />}>
        {/* ... å…¶ä»–è·¯ç”± */}
      </Route>
    </Routes>
  )
}
```

**3. æ·»åŠ è·¯ç”±å®ˆå«**

åˆ›å»º `ieclub-web/src/components/PrivateRoute.jsx`ï¼š

```javascript
import { Navigate } from 'react-router-dom'

export default function PrivateRoute({ children }) {
  const token = localStorage.getItem('token')
  
  if (!token) {
    return <Navigate to="/login" replace />
  }
  
  return children
}
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰‹æœºå·æ ¼å¼éªŒè¯
- âœ… éªŒè¯ç å€’è®¡æ—¶
- âœ… ç™»å½•æˆåŠŸä¿å­˜ Token
- âœ… è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ
- âœ… æœªç™»å½•è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

---

#### Day 5: è¯é¢˜åˆ—è¡¨æ•°æ®å¯¹æ¥

**ç›®æ ‡**: åŒç«¯è¯é¢˜åˆ—è¡¨æ˜¾ç¤ºçœŸå®æ•°æ®

**å°ç¨‹åºç‰ˆæ›´æ–°**:

```javascript
// ieclub-taro/pages/plaza/index.js
import { getTopics } from '../../api/topic'

Page({
  data: {
    activeTab: 'all',
    topics: [],
    loading: false,
    page: 1,
    hasMore: true
  },

  onLoad() {
    this.loadTopics()
  },

  // åŠ è½½è¯é¢˜åˆ—è¡¨
  async loadTopics(reset = false) {
    if (this.data.loading) return

    this.setData({ loading: true })

    try {
      const page = reset ? 1 : this.data.page
      const result = await getTopics({
        type: this.data.activeTab,
        page,
        limit: 20
      })

      this.setData({
        topics: reset ? result.list : [...this.data.topics, ...result.list],
        page: page + 1,
        hasMore: result.list.length >= 20,
        loading: false
      })
    } catch (error) {
      console.error('åŠ è½½å¤±è´¥:', error)
      this.setData({ loading: false })
    }
  },

  // åˆ‡æ¢ Tab
  switchTab(e) {
    const { tab } = e.currentTarget.dataset
    this.setData({ activeTab: tab })
    this.loadTopics(true)
  },

  // ä¸‹æ‹‰åˆ·æ–°
  onPullDownRefresh() {
    this.loadTopics(true)
    wx.stopPullDownRefresh()
  },

  // ä¸Šæ‹‰åŠ è½½æ›´å¤š
  onReachBottom() {
    if (this.data.hasMore && !this.data.loading) {
      this.loadTopics()
    }
  }
})
```

**ç½‘é¡µç‰ˆæ›´æ–°**:

```javascript
// ieclub-web/src/pages/Plaza.jsx
import { useState, useEffect } from 'react'
import { getTopics } from '../api/topic'

export default function Plaza() {
  const [activeTab, setActiveTab] = useState('all')
  const [topics, setTopics] = useState([])
  const [loading, setLoading] = useState(false)

  // åŠ è½½è¯é¢˜åˆ—è¡¨
  const loadTopics = async () => {
    setLoading(true)
    try {
      const result = await getTopics({
        type: activeTab,
        page: 1,
        limit: 20
      })
      setTopics(result.list)
    } catch (error) {
      console.error('åŠ è½½å¤±è´¥:', error)
    } finally {
      setLoading(false)
    }
  }

  // Tab åˆ‡æ¢æ—¶é‡æ–°åŠ è½½
  useEffect(() => {
    loadTopics()
  }, [activeTab])

  // ... rest of component
}
```

---

### Week 2: æ ¸å¿ƒåŠŸèƒ½ï¼ˆ11.05 - 11.11ï¼‰

è¯¦ç»†è§„åˆ’çœç•¥ï¼ŒåŒ…å«ï¼š
- Day 6-7: è¯é¢˜å‘å¸ƒåŠŸèƒ½
- Day 8-9: è¯é¢˜è¯¦æƒ…é¡µ
- Day 10-11: è¯„è®ºåŠŸèƒ½
- Day 12: ç”¨æˆ·å…³æ³¨åŠŸèƒ½

### Week 3: å®Œå–„æµ‹è¯•ï¼ˆ11.12 - 11.18ï¼‰

è¯¦ç»†è§„åˆ’çœç•¥ï¼ŒåŒ…å«ï¼š
- Day 13-14: æ´»åŠ¨åŠŸèƒ½
- Day 15-16: é›†æˆæµ‹è¯•
- Day 17-18: Bug ä¿®å¤
- Day 19-21: ä¼˜åŒ–ä¸Šçº¿

---

## ğŸ¯ ç«‹å³å¼€å§‹

### ä»Šå¤©çš„ä»»åŠ¡ï¼ˆDay 3ï¼‰

âœ… **å·²å®Œæˆ**: API å°è£…  
ğŸ”¥ **è¿›è¡Œä¸­**: å°ç¨‹åºç™»å½•åŠŸèƒ½

### ä¸‹ä¸€æ­¥

1. åˆ›å»ºç™»å½•é¡µé¢æ–‡ä»¶
2. å®ç°å¾®ä¿¡æˆæƒç™»å½•
3. æµ‹è¯•ç™»å½•æµç¨‹
4. æ˜å¤©å®ç°ç½‘é¡µç‰ˆç™»å½•

---

éœ€è¦æˆ‘ç«‹å³å¼€å§‹åˆ›å»ºç™»å½•é¡µé¢ä»£ç å—ï¼Ÿ

