# 📱 IEClub 小程序测试步骤

**创建时间**: 2025-10-27  
**状态**: ✅ 构建成功，请按以下步骤测试

---

## ⚠️ 重要：清除缓存

在测试前，**必须**清除微信开发者工具的所有缓存！

### 步骤1：关闭微信开发者工具

完全退出微信开发者工具（不是最小化）。

### 步骤2：删除缓存目录

找到并删除以下目录：

```
C:\Users\你的用户名\AppData\Local\微信开发者工具\User Data\
```

或者在开发者工具中：
1. 点击顶部菜单 **工具** → **清除缓存**
2. 选择 **清除全部缓存**
3. 重启开发者工具

### 步骤3：重新打开项目

1. 重新打开微信开发者工具
2. 选择 **导入项目**
3. 项目目录：`C:\universe\GitHub_try\IEclub_dev\ieclub-taro`
4. AppID：使用测试号或你的AppID
5. 点击 **导入**

---

## 🧪 测试清单

### 测试1：首页加载

✅ **预期结果**：
- 页面正常显示
- 显示 "欢迎来到 IEClub"
- 显示 4 个功能按钮：
  - 📅 活动详情
  - 👤 个人主页
  - ⚙️ 设置
  - 🔔 通知

❌ **如果失败**：
- 查看控制台错误信息
- 截图发送给开发者

### 测试2：页面跳转

点击每个按钮，测试页面跳转：

1. **活动详情页**
   - ✅ 应显示活动信息
   - ✅ 有报名进度条
   - ✅ 有返回按钮

2. **个人主页**
   - ✅ 显示用户头像
   - ✅ 显示统计数据
   - ✅ 显示项目列表

3. **设置页**
   - ✅ 显示设置选项
   - ✅ 推送通知开关可用
   - ✅ 清除缓存功能可用

4. **通知页**
   - ✅ 显示通知列表
   - ✅ 可标记已读
   - ✅ 可清除所有

---

## 🔧 如果仍然报错

### 错误1：Cannot read property 'mount' of null

**解决方案**：
1. 确保已清除缓存
2. 删除 `dist` 目录
3. 重新运行 `npm run build:weapp`
4. 重启微信开发者工具

### 错误2：__webpack_modules__[moduleId] is not a function

**解决方案**：
1. 完全关闭微信开发者工具
2. 删除项目缓存
3. 重新导入项目

### 错误3：页面空白

**解决方案**：
1. 检查控制台是否有样式加载错误
2. 确保 `dist` 目录中有 `.wxss` 文件
3. 重新构建

---

## 📋 构建文件检查清单

在 `dist` 目录中，应该有以下文件：

```
dist/
├── app.js ✅
├── app.json ✅
├── app.wxss ✅
├── pages/
│   ├── index/
│   │   ├── index.js ✅
│   │   ├── index.json ✅
│   │   ├── index.wxml ✅
│   │   └── index.wxss ✅
│   ├── events/
│   │   ├── EventDetailPage.js ✅
│   │   ├── EventDetailPage.json ✅
│   │   ├── EventDetailPage.wxml ✅
│   │   └── EventDetailPage.wxss ✅
│   ├── profile/
│   ├── settings/
│   └── notifications/
├── taro.js (385 KB) ✅
├── common.js (47 KB) ✅
├── vendors.js (13 KB) ✅
└── runtime.js (9 KB) ✅
```

---

## 🚀 快速重建命令

如果需要重新构建，在 PowerShell 中运行：

```powershell
cd C:\universe\GitHub_try\IEclub_dev\ieclub-taro
Remove-Item -Recurse -Force dist
npm run build:weapp
```

---

## ✅ 验证构建成功

运行以下命令验证：

```powershell
# 检查所有页面是否正确导出
Get-ChildItem dist/pages/*/*.js | ForEach-Object { 
    $name = $_.Name
    $export = Select-String -Path $_.FullName -Pattern "harmony default export" | Select-Object -First 1
    Write-Host "$name : OK" 
}
```

**预期输出**：
```
EventDetailPage.js : OK
index.js : OK
NotificationsPage.js : OK
ProfilePage.js : OK
SettingsPage.js : OK
```

---

## 📞 问题反馈

如果按照以上步骤操作后仍有问题，请提供：

1. **错误截图**（包含完整的控制台信息）
2. **微信开发者工具版本**
3. **基础库版本**（建议使用 2.33.0 或更高）
4. **操作系统版本**

---

## 🎯 已修复的问题

### v2.0.1 (2025-10-27)

✅ **修复 Tree Shaking 导致组件丢失**
- 禁用了 `usedExports` 和 `sideEffects` 优化
- 所有页面组件现在正确导出

✅ **修复 SCSS 类名不匹配**
- 重写了所有页面的 SCSS 文件
- 类名现在与 JSX 完全匹配

✅ **修复导航栏配置错误**
- 移除了错误的 `navigationStyle: 'custom'`
- 使用小程序默认导航栏

✅ **修复代码格式问题**
- 统一了所有文件的缩进
- 清理了多余的空行

---

**最后更新**: 2025-10-27 14:45  
**构建状态**: ✅ 成功  
**文件完整性**: ✅ 验证通过

