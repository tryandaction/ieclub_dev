{"version":3,"file":"index.js","sources":["../../src/utils/index.tsx"],"sourcesContent":["/* eslint-disable react/react-in-jsx-scope */\nimport { forwardRef } from './hooks'\n\nexport function throttle (fn, threshold = 250, scope?) {\n  let lastTime = 0\n  let deferTimer: ReturnType<typeof setTimeout>\n  return function (...args) {\n    const context = scope || this\n    const now = Date.now()\n    if (now - lastTime > threshold) {\n      fn.apply(this, args)\n      lastTime = now\n    } else {\n      clearTimeout(deferTimer)\n      deferTimer = setTimeout(() => {\n        lastTime = now\n        fn.apply(context, args)\n      }, threshold)\n    }\n  }\n}\n\nexport function debounce (fn, ms = 250, scope?) {\n  let timer: ReturnType<typeof setTimeout>\n\n  return function (...args) {\n    const context = scope || this\n    clearTimeout(timer)\n    timer = setTimeout(function () {\n      fn.apply(context, args)\n    }, ms)\n  }\n}\n\nexport function omit (obj, fields) {\n  const shallowCopy = Object.assign({}, obj)\n  for (let i = 0; i < fields.length; i += 1) {\n    const key = fields[i]\n    delete shallowCopy[key]\n  }\n  return shallowCopy\n}\n\nexport const createForwardRefComponent = (ReactComponent: any) => {\n  const forwardRefComponent = (\n    props,\n    ref\n  ) => <ReactComponent {...props} forwardedRef={ref} />\n\n  return forwardRef(forwardRefComponent)\n}\n\n// Picker 工具函数\nfunction getTimeRange (begin: number, end: number) {\n  const range: string[] = []\n  for (let i = begin; i <= end; i++) {\n    range.push(`${i < 10 ? '0' : ''}${i}`)\n  }\n  return range\n}\n\nexport const hoursRange = getTimeRange(0, 23)\n\nexport const minutesRange = getTimeRange(0, 59)\n\n/**\n * 校验传入的 value 是否合法\n */\nexport function verifyValue (value: number, range: any[]) {\n  if (!isNaN(+value) && value >= 0 && value < range.length) return true\n  return false\n}\n\n/**\n * 检验传入的 time value 是否合法\n */\nexport function verifyTime (value: string) {\n  if (!/^\\d{1,2}:\\d{1,2}$/.test(value)) return false\n\n  const time = value.split(':').map(num => +num)\n\n  if (time[0] < 0 || time[0] > 23) return false\n  if (time[1] < 0 || time[1] > 59) return false\n\n  return true\n}\n\n/**\n * 比较时间\n * return t1 <= t2\n */\nexport function compareTime (t1: string, t2: string) {\n  const t1List = t1.split(':').map(i => +i)\n  const t2List = t2.split(':').map(i => +i)\n\n  if (t1List[0] < t2List[0]) return true\n  if (t1List[0] === t2List[0] && t1List[1] <= t2List[1]) return true\n\n  return false\n}\n\n/**\n * 校验日期合法性，返回合法性和日期数组\n */\nexport function verifyDate (dateStr: string) {\n  if (!dateStr) return false\n  const date = new Date(dateStr.replace(/-/g, '/'))\n  return isNaN(date.getMonth()) ? false : date\n}\n\n/**\n * 获取当月最大天数\n */\nfunction getMaxDay (year: number, month: number) {\n  if (month === 4 || month === 6 || month === 9 || month === 11) return 30\n  if (month === 2) {\n    if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) return 29\n    else return 28\n  }\n  return 31\n}\n\n/**\n * 获取时间数组\n */\nfunction getDateRange (start: number, end: number) {\n  const range: number[] = []\n  for (let i = start; i <= end; i++) {\n    range.push(i)\n  }\n  return range\n}\n\n/**\n * 获取年份区间数组\n */\nexport function getYearRange (start: number, end: number) {\n  return getDateRange(start, end)\n}\n\n/**\n * 获取月份区间数组\n */\nexport function getMonthRange (start: Date, end: Date, year: number) {\n  let rangeStart = 1\n  let rangeEnd = 12\n\n  // 当前年份等于开始年份，由开始对应的月份约束开始值\n  if (start.getFullYear() === year) {\n    rangeStart = start.getMonth() + 1\n  }\n\n  // 当前年份等于结束年份，由结束对应的月份约束结束值\n  if (end.getFullYear() === year) {\n    rangeEnd = end.getMonth() + 1\n  }\n\n  return getDateRange(rangeStart, rangeEnd)\n}\n\n/**\n * 获取日期区间数组\n */\nexport function getDayRange (start: Date, end: Date, year: number, month: number) {\n  let rangeStart = 1\n  let rangeEnd = getMaxDay(year, month)\n\n  if (start.getFullYear() === year && start.getMonth() + 1 === month) {\n    rangeStart = start.getDate()\n  }\n\n  if (end.getFullYear() === year && end.getMonth() + 1 === month) {\n    rangeEnd = end.getDate()\n  }\n\n  return getDateRange(rangeStart, rangeEnd)\n}\n\n"],"names":["throttle","fn","threshold","arguments","length","undefined","scope","lastTime","deferTimer","_len","args","Array","_key","context","now","Date","apply","clearTimeout","setTimeout","debounce","ms","timer","_len2","_key2","omit","obj","fields","shallowCopy","Object","assign","i","key","createForwardRefComponent","ReactComponent","forwardRefComponent","props","ref","_jsx","forwardedRef","forwardRef","getTimeRange","begin","end","range","push","hoursRange","minutesRange","verifyValue","value","isNaN","verifyTime","test","time","split","map","num","compareTime","t1","t2","t1List","t2List","verifyDate","dateStr","date","replace","getMonth","getMaxDay","year","month","getDateRange","start","getYearRange","getMonthRange","rangeStart","rangeEnd","getFullYear","getDayRange","getDate"],"mappings":"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"}