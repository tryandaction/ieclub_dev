"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[734],{6659:function(e,n,s){var a=s(7842),t=s(3949),r=s(6784),i=s(8140),c=s(118),l=s(8833),o=s(758),u=s.n(o),p=s(920),m=s(5349);function d(){var e=(0,p.k)(),n=e.login,s=e.register,a=(0,l.useState)(!0),o=(0,i.A)(a,2),d=o[0],h=o[1],f=(0,l.useState)(""),x=(0,i.A)(f,2),g=x[0],S=x[1],v=(0,l.useState)(""),j=(0,i.A)(v,2),w=j[0],N=j[1],b=(0,l.useState)(""),k=(0,i.A)(b,2),A=k[0],T=k[1],C=(0,l.useState)(!1),I=(0,i.A)(C,2),y=I[0],J=I[1],O=function(){var e=(0,r.A)((0,t.A)().m(function e(){var a;return(0,t.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(g&&w){e.n=1;break}return u().showToast({title:"\u8bf7\u586b\u5199\u5b8c\u6574\u4fe1\u606f",icon:"none"}),e.a(2);case 1:if(d||A){e.n=2;break}return u().showToast({title:"\u8bf7\u8f93\u5165\u6635\u79f0",icon:"none"}),e.a(2);case 2:if(J(!0),e.p=3,!d){e.n=5;break}return e.n=4,n({email:g,password:w});case 4:e.n=6;break;case 5:return e.n=6,s({username:A,email:g,password:w,nickname:A});case 6:u().switchTab({url:"/pages/topics/index"}),e.n=8;break;case 7:e.p=7,a=e.v,console.error("\u767b\u5f55/\u6ce8\u518c\u5931\u8d25:",a);case 8:return e.p=8,J(!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,7,8,9]])}));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(c.Ss,{className:"login-page",children:[(0,m.jsxs)(c.Ss,{className:"login-header",children:[(0,m.jsx)(c.Ss,{className:"logo",children:"\ud83c\udf93"}),(0,m.jsx)(c.Ss,{className:"title",children:"IEClub"}),(0,m.jsx)(c.Ss,{className:"subtitle",children:"\u8de8\u5b66\u79d1\u4ea4\u6d41\u5e73\u53f0"})]}),(0,m.jsxs)(c.Ss,{className:"login-form",children:[!d&&(0,m.jsx)(c.Ss,{className:"form-item",children:(0,m.jsx)(c.pd,{className:"input",placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",value:A,onInput:function(e){return T(e.detail.value)}})}),(0,m.jsx)(c.Ss,{className:"form-item",children:(0,m.jsx)(c.pd,{className:"input",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",type:"text",value:g,onInput:function(e){return S(e.detail.value)}})}),(0,m.jsx)(c.Ss,{className:"form-item",children:(0,m.jsx)(c.pd,{className:"input",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",password:!0,value:w,onInput:function(e){return N(e.detail.value)}})}),(0,m.jsx)(c.$n,{className:"submit-btn",onClick:O,loading:y,children:d?"\u767b\u5f55":"\u6ce8\u518c"}),(0,m.jsx)(c.Ss,{className:"switch-mode",onClick:function(){return h(!d)},children:d?"\u6ca1\u6709\u8d26\u53f7\uff1f\u7acb\u5373\u6ce8\u518c":"\u5df2\u6709\u8d26\u53f7\uff1f\u7acb\u5373\u767b\u5f55"})]})]})}var h={navigationBarTitleText:"\u767b\u5f55",navigationStyle:"custom"};Page((0,a.createPageConfig)(d,"pages/login/index",{root:{cn:[]}},h||{}))}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[907,96,76],function(){return n(6659)});e.O()}]);