/*! For license information please see 973.68275079.js.LICENSE.txt */
(self.webpackJsonp=self.webpackJsonp||[]).push([[973],{"4528":function(e,t,a){"use strict";a.r(t),a.d(t,{"default":function(){return CreateTopicPage}});var n=a(1212),r=a(5458),i=a(467),o=a(296),l=a(3707),s=a(6540),c=a(4357),u=a(9958),b=a(3699),p=a(2449),d=a(9101),f=a(6653);function uploadImage(e){return _uploadImage.apply(this,arguments)}function _uploadImage(){return(_uploadImage=(0,i.A)((0,n.A)().m(function _callee(e){var t;return(0,n.A)().w(function(a){for(;;)if(0===a.n)return t=(0,d.JF)("token"),a.a(2,new Promise(function(a,n){(0,f.Q)({"url":"".concat("https://api.ieclub.online","/api/upload/image"),"filePath":e,"name":"file","header":{"Authorization":"Bearer ".concat(t)},"success":function success(e){try{var t=JSON.parse(e.data);200===t.code?a(t.data.url):n(new Error(t.message||"上传失败"))}catch(e){n(e)}},"fail":function fail(e){n(e)}})}))},_callee)}))).apply(this,arguments)}function uploadImages(e){return _uploadImages.apply(this,arguments)}function _uploadImages(){return(_uploadImages=(0,i.A)((0,n.A)().m(function _callee2(e){var t;return(0,n.A)().w(function(a){for(;;)if(0===a.n)return t=e.map(function(e){return uploadImage(e)}),a.a(2,Promise.all(t))},_callee2)}))).apply(this,arguments)}var m=a(4848);function CreateTopicPage(){var e=(0,p.e)().createTopic,t=(0,s.useState)(""),a=(0,o.A)(t,2),d=a[0],f=a[1],h=(0,s.useState)(""),g=(0,o.A)(h,2),S=g[0],x=g[1],v=(0,s.useState)(""),y=(0,o.A)(v,2),O=y[0],w=y[1],M=(0,s.useState)([]),P=(0,o.A)(M,2),C=P[0],k=P[1],E=(0,s.useState)([]),A=(0,o.A)(E,2),I=A[0],B=A[1],N=(0,s.useState)(!1),j=(0,o.A)(N,2),W=j[0],T=j[1],R=(0,s.useState)(!1),F=(0,o.A)(R,2),G=F[0],$=F[1],_=function(){var e=(0,i.A)((0,n.A)().m(function _callee(){var e,t,a;return(0,n.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,(0,c.N)({"count":9-I.length,"sizeType":["compressed"],"sourceType":["album","camera"]});case 1:return e=n.v,T(!0),n.p=2,n.n=3,uploadImages(e.tempFilePaths);case 3:t=n.v,B([].concat((0,r.A)(I),(0,r.A)(t))),n.n=5;break;case 4:n.p=4,n.v,(0,u.P0)({"title":"上传失败","icon":"none"});case 5:return n.p=5,T(!1),n.f(5);case 6:n.n=8;break;case 7:n.p=7,a=n.v,console.error("选择图片失败:",a);case 8:return n.a(2)}},_callee,null,[[2,4,5,6],[0,7]])}));return function chooseImage(){return e.apply(this,arguments)}}(),X=function(){var t=(0,i.A)((0,n.A)().m(function _callee2(){var t;return(0,n.A)().w(function(a){for(;;)switch(a.p=a.n){case 0:if(d.trim()){a.n=1;break}return(0,u.P0)({"title":"请输入标题","icon":"none"}),a.a(2);case 1:if(S.trim()){a.n=2;break}return(0,u.P0)({"title":"请输入内容","icon":"none"}),a.a(2);case 2:if(O){a.n=3;break}return(0,u.P0)({"title":"请选择分类","icon":"none"}),a.a(2);case 3:return $(!0),a.p=4,a.n=5,e({"title":d.trim(),"content":S.trim(),"category":O,"tags":C,"images":I});case 5:(0,u.P0)({"title":"发布成功","icon":"success"}),setTimeout(function(){b.Ay.navigateBack()},1500),a.n=7;break;case 6:a.p=6,t=a.v,console.error("发布失败:",t);case 7:return a.p=7,$(!1),a.f(7);case 8:return a.a(2)}},_callee2,null,[[4,6,7,8]])}));return function handleSubmit(){return t.apply(this,arguments)}}();return(0,m.jsxs)(l.Ss,{"className":"create-topic-page","children":[(0,m.jsxs)(l.Ss,{"className":"form-item","children":[(0,m.jsx)(l.pd,{"className":"title-input","placeholder":"输入标题","value":d,"maxlength":100,"onInput":function onInput(e){return f(e.detail.value)}}),(0,m.jsxs)(l.Ss,{"className":"char-count","children":[d.length,"/100"]})]}),(0,m.jsxs)(l.Ss,{"className":"form-item","children":[(0,m.jsx)(l.Ss,{"className":"label","children":"分类"}),(0,m.jsx)(l.Ss,{"className":"category-list","children":[{"value":"tech","label":"技术"},{"value":"science","label":"科学"},{"value":"life","label":"生活"},{"value":"study","label":"学习"},{"value":"other","label":"其他"}].map(function(e){return(0,m.jsx)(l.Ss,{"className":"category-item ".concat(O===e.value?"active":""),"onClick":function onClick(){return w(e.value)},"children":e.label},e.value)})})]}),(0,m.jsxs)(l.Ss,{"className":"form-item","children":[(0,m.jsx)(l.TM,{"className":"content-input","placeholder":"分享你的想法...","value":S,"maxlength":2e3,"autoHeight":!0,"onInput":function onInput(e){return x(e.detail.value)}}),(0,m.jsxs)(l.Ss,{"className":"char-count","children":[S.length,"/2000"]})]}),(0,m.jsxs)(l.Ss,{"className":"form-item","children":[(0,m.jsxs)(l.Ss,{"className":"label","children":["图片 (",I.length,"/9)"]}),(0,m.jsxs)(l.Ss,{"className":"image-list","children":[I.map(function(e,t){return(0,m.jsxs)(l.Ss,{"className":"image-item","children":[(0,m.jsx)(l._V,{"className":"image","src":e,"mode":"aspectFill"}),(0,m.jsx)(l.Ss,{"className":"remove-btn","onClick":function onClick(){return function removeImage(){B(I.filter(function(){return!1}))}()},"children":"×"})]},t)}),I.length<9&&(0,m.jsx)(l.Ss,{"className":"add-image-btn","onClick":_,"children":W?"上传中...":"+"})]})]}),(0,m.jsxs)(l.Ss,{"className":"form-item","children":[(0,m.jsx)(l.Ss,{"className":"label","children":"标签"}),(0,m.jsxs)(l.Ss,{"className":"tags-list","children":[C.map(function(e){return(0,m.jsxs)(l.Ss,{"className":"tag-item","children":["#",e,(0,m.jsx)(l.Ss,{"className":"remove-tag","onClick":function onClick(){return function removeTag(){k(C.filter(function(){return!1}))}()},"children":"×"})]},e)}),C.length<5&&(0,m.jsx)(l.Ss,{"className":"add-tag-btn","onClick":function addTag(){(0,u.P0)({"title":"标签功能开发中","icon":"none"})},"children":"+ 添加标签"})]})]}),(0,m.jsx)(l.Ss,{"className":"submit-section","children":(0,m.jsx)(l.Ss,{"className":"submit-btn ".concat(G?"disabled":""),"onClick":X,"children":G?"发布中...":"发布"})})]})}},"5574":function(e){"use strict";e.exports=isMobile,e.exports.isMobile=isMobile,e.exports.default=isMobile;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/CrOS/,n=/android|ipad|playbook|silk/i;function isMobile(e){e||(e={});let r=e.ua;if(r||"undefined"==typeof navigator||(r=navigator.userAgent),r&&r.headers&&"string"==typeof r.headers["user-agent"]&&(r=r.headers["user-agent"]),"string"!=typeof r)return!1;let i=t.test(r)&&!a.test(r)||!!e.tablet&&n.test(r);return!i&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==r.indexOf("Macintosh")&&-1!==r.indexOf("Safari")&&(i=!0),i}},"7503":function(e,t,a){var n;e=a.nmd(e),function(){"use strict";var r={"function":!0,"object":!0},i=r[typeof window]&&window||this,o=r[typeof t]&&t,l=r.object&&e&&!e.nodeType&&e,s=o&&l&&"object"==typeof a.g&&a.g;!s||s.global!==s&&s.window!==s&&s.self!==s||(i=s);var c=Math.pow(2,53)-1,u=/\bOpera/,b=Object.prototype,p=b.hasOwnProperty,d=b.toString;function capitalize(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function format(e){return e=trim(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:capitalize(e)}function forOwn(e,t){for(var a in e)p.call(e,a)&&t(e[a],a,e)}function getClassOf(e){return null==e?capitalize(e):d.call(e).slice(8,-1)}function qualify(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function reduce(e,t){var a=null;return function each(e,t){var a=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=c)for(;++a<n;)t(e[a],a,e);else forOwn(e,t)}(e,function(n,r){a=t(a,n,r,e)}),a}function trim(e){return String(e).replace(/^ +| +$/g,"")}var f=function parse(e){var t=i,a=e&&"object"==typeof e&&"String"!=getClassOf(e);a&&(t=e,e=null);var n=t.navigator||{},r=n.userAgent||"";e||(e=r);var o,l,s=a?!!n.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(d.toString()),c="Object",b=a?c:"ScriptBridgingProxyObject",p=a?c:"Environment",f=a&&t.java?"JavaPackage":getClassOf(t.java),m=a?c:"RuntimeObject",h=/\bJava/.test(f)&&t.java,g=h&&getClassOf(t.environment)==p,S=h?"a":"α",x=h?"b":"β",v=t.document||{},y=t.operamini||t.opera,O=u.test(O=a&&y?y["[[Class]]"]:getClassOf(y))?O:y=null,w=e,M=[],P=null,C=e==r,k=C&&y&&"function"==typeof y.version&&y.version(),E=function getLayout(t){return reduce(t,function(t,a){return t||RegExp("\\b"+(a.pattern||qualify(a))+"\\b","i").exec(e)&&(a.label||a)})}([{"label":"EdgeHTML","pattern":"Edge"},"Trident",{"label":"WebKit","pattern":"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),A=function getName(t){return reduce(t,function(t,a){return t||RegExp("\\b"+(a.pattern||qualify(a))+"\\b","i").exec(e)&&(a.label||a)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{"label":"Microsoft Edge","pattern":"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{"label":"Samsung Internet","pattern":"SamsungBrowser"},"SeaMonkey",{"label":"Silk","pattern":"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{"label":"SRWare Iron","pattern":"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{"label":"Yandex Browser","pattern":"YaBrowser"},{"label":"UC Browser","pattern":"UCBrowser"},"Opera Mini",{"label":"Opera Mini","pattern":"OPiOS"},"Opera",{"label":"Opera","pattern":"OPR"},"Chromium","Chrome",{"label":"Chrome","pattern":"(?:HeadlessChrome)"},{"label":"Chrome Mobile","pattern":"(?:CriOS|CrMo)"},{"label":"Firefox","pattern":"(?:Firefox|Minefield)"},{"label":"Firefox for iOS","pattern":"FxiOS"},{"label":"IE","pattern":"IEMobile"},{"label":"IE","pattern":"MSIE"},"Safari"]),I=getProduct([{"label":"BlackBerry","pattern":"BB10"},"BlackBerry",{"label":"Galaxy S","pattern":"GT-I9000"},{"label":"Galaxy S2","pattern":"GT-I9100"},{"label":"Galaxy S3","pattern":"GT-I9300"},{"label":"Galaxy S4","pattern":"GT-I9500"},{"label":"Galaxy S5","pattern":"SM-G900"},{"label":"Galaxy S6","pattern":"SM-G920"},{"label":"Galaxy S6 Edge","pattern":"SM-G925"},{"label":"Galaxy S7","pattern":"SM-G930"},{"label":"Galaxy S7 Edge","pattern":"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{"label":"Kindle Fire","pattern":"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{"label":"Wii U","pattern":"WiiU"},"Wii","Xbox One",{"label":"Xbox 360","pattern":"Xbox"},"Xoom"]),B=function getManufacturer(t){return reduce(t,function(t,a,n){return t||(a[I]||a[/^[a-z]+(?: +[a-z]+\b)*/i.exec(I)]||RegExp("\\b"+qualify(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}({"Apple":{"iPad":1,"iPhone":1,"iPod":1},"Alcatel":{},"Archos":{},"Amazon":{"Kindle":1,"Kindle Fire":1},"Asus":{"Transformer":1},"Barnes & Noble":{"Nook":1},"BlackBerry":{"PlayBook":1},"Google":{"Google TV":1,"Nexus":1},"HP":{"TouchPad":1},"HTC":{},"Huawei":{},"Lenovo":{},"LG":{},"Microsoft":{"Xbox":1,"Xbox One":1},"Motorola":{"Xoom":1},"Nintendo":{"Wii U":1,"Wii":1},"Nokia":{"Lumia":1},"Oppo":{},"Samsung":{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},"Sony":{"PlayStation":1,"PlayStation Vita":1},"Xiaomi":{"Mi":1,"Redmi":1}}),N=function getOS(t){return reduce(t,function(t,a){var n=a.pattern||qualify(a);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function cleanupOS(e,t,a){var n={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&a&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&a&&(e=e.replace(RegExp(t,"i"),a)),format(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,n,a.label||a)),t})}(["Windows Phone","KaiOS","Android","CentOS",{"label":"Chrome OS","pattern":"CrOS"},"Debian",{"label":"DragonFly BSD","pattern":"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function getProduct(t){return reduce(t,function(t,a){var n=a.pattern||qualify(a);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(a.label&&!RegExp(n,"i").test(a.label)?a.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),a=a.label||a,t=format(t[0].replace(RegExp(n,"i"),a).replace(RegExp("; *(?:"+a+"[_-])?","i")," ").replace(RegExp("("+a+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function getVersion(t){return reduce(t,function(t,a){return t||(RegExp(a+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}if(E&&(E=[E]),/\bAndroid\b/.test(N)&&!I&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(e))&&(I=trim(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),B&&!I?I=getProduct([B]):B&&I&&(I=I.replace(RegExp("^("+qualify(B)+")[-_.\\s]","i"),B+" ").replace(RegExp("^("+qualify(B)+")[-_.]?(\\w)","i"),B+" $2")),(o=/\bGoogle TV\b/.exec(I))&&(I=o[0]),/\bSimulator\b/i.test(e)&&(I=(I?I+" ":"")+"Simulator"),"Opera Mini"==A&&/\bOPiOS\b/.test(e)&&M.push("running in Turbo/Uncompressed mode"),"IE"==A&&/\blike iPhone OS\b/.test(e)?(B=(o=parse(e.replace(/like iPhone OS/,""))).manufacturer,I=o.product):/^iP/.test(I)?(A||(A="Safari"),N="iOS"+((o=/ OS ([\d_]+)/i.exec(e))?" "+o[1].replace(/_/g,"."):"")):"Konqueror"==A&&/^Linux\b/i.test(N)?N="Kubuntu":B&&"Google"!=B&&(/Chrome/.test(A)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(I))||/\bAndroid\b/.test(N)&&/^Chrome/.test(A)&&/\bVersion\//i.test(e)?(A="Android Browser",N=/\bAndroid\b/.test(N)?N:"Android"):"Silk"==A?(/\bMobi/i.test(e)||(N="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&M.unshift("accelerated")):"UC Browser"==A&&/\bUCWEB\b/.test(e)?M.push("speed mode"):"PaleMoon"==A&&(o=/\bFirefox\/([\d.]+)\b/.exec(e))?M.push("identifying as Firefox "+o[1]):"Firefox"==A&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(N||(N="Firefox OS"),I||(I=o[1])):!A||(o=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(A))?(A&&!I&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(o+"/")+8))&&(A=null),(o=I||B||N)&&(I||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(N))&&(A=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(N)?N:o)+" Browser")):"Electron"==A&&(o=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&M.push("Chromium "+o),k||(k=getVersion(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",qualify(A),"(?:Firefox|Minefield|NetFront)"])),(o=("iCab"==E&&parseFloat(k)>3?"WebKit":/\bOpera\b/.test(A)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(E)&&"WebKit"||!E&&/\bMSIE\b/i.test(e)&&("Mac OS"==N?"Tasman":"Trident")||"WebKit"==E&&/\bPlayStation\b(?! Vita\b)/i.test(A)&&"NetFront")&&(E=[o]),"IE"==A&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(A+=" Mobile",N="Windows Phone "+(/\+$/.test(o)?o:o+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(A="IE Mobile",N="Windows Phone 8.x",M.unshift("desktop mode"),k||(k=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=A&&"Trident"==E&&(o=/\brv:([\d.]+)/.exec(e))&&(A&&M.push("identifying as "+A+(k?" "+k:"")),A="IE",k=o[1]),C){if(function isHostType(e,t){var a=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(a)||"object"==a&&!e[t])}(t,"global"))if(h&&(w=(o=h.lang.System).getProperty("os.arch"),N=N||o.getProperty("os.name")+" "+o.getProperty("os.version")),g){try{k=t.require("ringo/engine").version.join("."),A="RingoJS"}catch(e){(o=t.system)&&o.global.system==t.system&&(A="Narwhal",N||(N=o[0].os||null))}A||(A="Rhino")}else"object"==typeof t.process&&!t.process.browser&&(o=t.process)&&("object"==typeof o.versions&&("string"==typeof o.versions.electron?(M.push("Node "+o.versions.node),A="Electron",k=o.versions.electron):"string"==typeof o.versions.nw&&(M.push("Chromium "+k,"Node "+o.versions.node),A="NW.js",k=o.versions.nw)),A||(A="Node.js",w=o.arch,N=o.platform,k=(k=/[\d.]+/.exec(o.version))?k[0]:null));else getClassOf(o=t.runtime)==b?(A="Adobe AIR",N=o.flash.system.Capabilities.os):getClassOf(o=t.phantom)==m?(A="PhantomJS",k=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):"number"==typeof v.documentMode&&(o=/\bTrident\/(\d+)/i.exec(e))?(k=[k,v.documentMode],(o=+o[1]+4)!=k[1]&&(M.push("IE "+k[1]+" mode"),E&&(E[1]=""),k[1]=o),k="IE"==A?String(k[1].toFixed(1)):k[0]):"number"==typeof v.documentMode&&/^(?:Chrome|Firefox)\b/.test(A)&&(M.push("masking as "+A+" "+k),A="IE",k="11.0",E=["Trident"],N="Windows");N=N&&format(N)}if(k&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(C&&n.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(o)?"beta":"alpha",k=k.replace(RegExp(o+"\\+?$"),"")+("beta"==P?x:S)+(/\d+\+?/.exec(o)||"")),"Fennec"==A||"Firefox"==A&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(N))A="Firefox Mobile";else if("Maxthon"==A&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(I))"Xbox 360"==I&&(N=null),"Xbox 360"==I&&/\bIEMobile\b/.test(e)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(A)&&(!A||I||/Browser|Mobi/.test(A))||"Windows CE"!=N&&!/Mobi/i.test(e))if("IE"==A&&C)try{null===t.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(I)||/\bBB10\b/.test(e))&&(o=(RegExp(I.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||k)?(N=((o=[o,/BB10/.test(e)])[1]?(I=null,B="BlackBerry"):"Device Software")+" "+o[0],k=null):this!=forOwn&&"Wii"!=I&&(C&&y||/Opera/.test(A)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==A&&/\bOS X (?:\d+\.){2,}/.test(N)||"IE"==A&&(N&&!/^Win/.test(N)&&k>5.5||/\bWindows XP\b/.test(N)&&k>8||8==k&&!/\bTrident\b/.test(e)))&&!u.test(o=parse.call(forOwn,e.replace(u,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),u.test(A)?(/\bIE\b/.test(o)&&"Mac OS"==N&&(N=null),o="identify"+o):(o="mask"+o,A=O?format(O.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(o)&&(N=null),C||(k=null)),E=["Presto"],M.push(o));else A+=" Mobile";(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],"Safari"==A&&"+"==o[1].slice(-1)?(A="WebKit Nightly",P="alpha",k=o[1].slice(0,-1)):k!=o[1]&&k!=(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(k=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(e)||0)[1],537.36==o[0]&&537.36==o[2]&&parseFloat(o[1])>=28&&"WebKit"==E&&(E=["Blink"]),C&&(s||o[1])?(E&&(E[1]="like Chrome"),o=o[1]||((o=o[0])<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:"Blink"!=E?"27":"28")):(E&&(E[1]="like Safari"),o=(o=o[0])<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12"),E&&(E[1]+=" "+(o+="number"==typeof o?".x":/[.+]/.test(o)?"":"+")),"Safari"==A&&(!k||parseInt(k)>45)?k=o:"Chrome"==A&&/\bHeadlessChrome/i.test(e)&&M.unshift("headless")),"Opera"==A&&(o=/\bzbov|zvav$/.exec(N))?(A+=" ",M.unshift("desktop mode"),"zvav"==o?(A+="Mini",k=null):A+="Mobile",N=N.replace(RegExp(" *"+o+"$"),"")):"Safari"==A&&/\bChrome\b/.exec(E&&E[1])?(M.unshift("desktop mode"),A="Chrome Mobile",k=null,/\bOS X\b/.test(N)?(B="Apple",N="iOS 4.3+"):N=null):/\bSRWare Iron\b/.test(A)&&!k&&(k=getVersion("Chrome")),k&&0==k.indexOf(o=/[\d.]+$/.exec(N))&&e.indexOf("/"+o+"-")>-1&&(N=trim(N.replace(o,""))),N&&-1!=N.indexOf(A)&&!RegExp(A+" OS").test(N)&&(N=N.replace(RegExp(" *"+qualify(A)+" *"),"")),E&&!/\b(?:Avant|Nook)\b/.test(A)&&(/Browser|Lunascape|Maxthon/.test(A)||"Safari"!=A&&/^iOS/.test(N)&&/\bSafari\b/.test(E[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(A)&&E[1])&&(o=E[E.length-1])&&M.push(o),M.length&&(M=["("+M.join("; ")+")"]),B&&I&&I.indexOf(B)<0&&M.push("on "+B),I&&M.push((/^on /.test(M[M.length-1])?"":"on ")+I),N&&(o=/ ([\d.+]+)$/.exec(N),l=o&&"/"==N.charAt(N.length-o[0].length-1),N={"architecture":32,"family":o&&!l?N.replace(o[0],""):N,"version":o?o[1]:null,"toString":function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(w))&&!/\bi686\b/i.test(w)?(N&&(N.architecture=64,N.family=N.family.replace(RegExp(" *"+o),"")),A&&(/\bWOW64\b/i.test(e)||C&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(e))&&M.unshift("32-bit")):N&&/^OS X/.test(N.family)&&"Chrome"==A&&parseFloat(k)>=39&&(N.architecture=64),e||(e=null);var j={};return j.description=e,j.layout=E&&E[0],j.manufacturer=B,j.name=A,j.prerelease=P,j.product=I,j.ua=e,j.version=A&&k,j.os=N||{"architecture":null,"family":null,"version":null,"toString":function(){return"null"}},j.parse=parse,j.toString=function toStringPlatform(){return this.description||""},j.version&&M.unshift(k),j.name&&M.unshift(A),N&&A&&(N!=String(N).split(" ")[0]||N!=A.split(" ")[0]&&!I)&&M.push(I?"("+N+")":"on "+N),M.length&&(j.description=M.join(" ")),j}();i.platform=f,void 0===(n=function(){return f}.call(t,a,t,e))||(e.exports=n)}.call(this)}}]);