"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[113],{"4113":function(e,n,s){s.r(n),s.d(n,{"default":function(){return LoginPage}});var a=s(1212),t=s(467),r=s(296),l=s(3707),c=s(6540),i=s(9958),u=s(3699),o=s(993),p=s(4848);function LoginPage(){var e=(0,o.k)(),n=e.login,s=e.register,d=(0,c.useState)(!0),m=(0,r.A)(d,2),f=m[0],h=m[1],x=(0,c.useState)(""),S=(0,r.A)(x,2),j=S[0],N=S[1],b=(0,c.useState)(""),g=(0,r.A)(b,2),k=g[0],v=g[1],w=(0,c.useState)(""),A=(0,r.A)(w,2),I=A[0],C=A[1],P=(0,c.useState)(!1),y=(0,r.A)(P,2),J=y[0],L=y[1],_=function(){var e=(0,t.A)((0,a.A)().m(function _callee(){var e;return(0,a.A)().w(function(a){for(;;)switch(a.p=a.n){case 0:if(j&&k){a.n=1;break}return(0,i.P0)({"title":"请填写完整信息","icon":"none"}),a.a(2);case 1:if(f||I){a.n=2;break}return(0,i.P0)({"title":"请输入昵称","icon":"none"}),a.a(2);case 2:if(L(!0),a.p=3,!f){a.n=5;break}return a.n=4,n({"email":j,"password":k});case 4:a.n=6;break;case 5:return a.n=6,s({"username":I,"email":j,"password":k,"nickname":I});case 6:u.Ay.switchTab({"url":"/pages/topics/index"}),a.n=8;break;case 7:a.p=7,e=a.v,console.error("登录/注册失败:",e);case 8:return a.p=8,L(!1),a.f(8);case 9:return a.a(2)}},_callee,null,[[3,7,8,9]])}));return function handleSubmit(){return e.apply(this,arguments)}}();return(0,p.jsxs)(l.Ss,{"className":"login-page","children":[(0,p.jsxs)(l.Ss,{"className":"login-header","children":[(0,p.jsx)(l.Ss,{"className":"logo","children":"🎓"}),(0,p.jsx)(l.Ss,{"className":"title","children":"IEClub"}),(0,p.jsx)(l.Ss,{"className":"subtitle","children":"跨学科交流平台"})]}),(0,p.jsxs)(l.Ss,{"className":"login-form","children":[!f&&(0,p.jsx)(l.Ss,{"className":"form-item","children":(0,p.jsx)(l.pd,{"className":"input","placeholder":"请输入昵称","value":I,"onInput":function onInput(e){return C(e.detail.value)}})}),(0,p.jsx)(l.Ss,{"className":"form-item","children":(0,p.jsx)(l.pd,{"className":"input","placeholder":"请输入邮箱","type":"text","value":j,"onInput":function onInput(e){return N(e.detail.value)}})}),(0,p.jsx)(l.Ss,{"className":"form-item","children":(0,p.jsx)(l.pd,{"className":"input","placeholder":"请输入密码","password":!0,"value":k,"onInput":function onInput(e){return v(e.detail.value)}})}),(0,p.jsx)(l.$n,{"className":"submit-btn","onClick":_,"loading":J,"children":f?"登录":"注册"}),(0,p.jsx)(l.Ss,{"className":"switch-mode","onClick":function onClick(){return h(!f)},"children":f?"没有账号？立即注册":"已有账号？立即登录"})]})]})}}}]);