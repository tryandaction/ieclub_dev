# IEClub åŒç«¯å¼€å‘æŒ‡å—

**ç½‘é¡µç‰ˆ + å°ç¨‹åº ç»Ÿä¸€æ¶æ„æ–¹æ¡ˆ**

---

## ğŸ“Š æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æµè§ˆå™¨ (Web)       â”‚   å¾®ä¿¡ (WeChat Mini Program)     â”‚
â”‚   â€¢ Chrome           â”‚   â€¢ iOS å¾®ä¿¡                      â”‚
â”‚   â€¢ Safari           â”‚   â€¢ Android å¾®ä¿¡                  â”‚
â”‚   â€¢ Edge             â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                            â”‚
           â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ç½‘é¡µç‰ˆ (Web)      â”‚    â”‚   å°ç¨‹åºç‰ˆ (MiniProgram)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ React + Vite     â”‚â”‚    â”‚   â”‚ åŸç”Ÿå¾®ä¿¡å°ç¨‹åº       â”‚  â”‚
â”‚  â”‚ Tailwind CSS     â”‚â”‚    â”‚   â”‚ WXML + WXSS + JS     â”‚  â”‚
â”‚  â”‚ React Router     â”‚â”‚    â”‚   â”‚ åŸç”Ÿç»„ä»¶ + API       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                              â”‚
           â”‚                              â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ç»Ÿä¸€åç«¯ API  â”‚
                   â”‚  (Node.js)    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚              â”‚
      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”     â”Œâ”€â”€â”€â–¼â”€â”€â”€â”     â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
      â”‚ MySQL  â”‚     â”‚ Redis â”‚     â”‚ Storageâ”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. æ•°æ®ç»Ÿä¸€

**æ‰€æœ‰æ•°æ®ç”±åŒä¸€åç«¯æä¾›**

- âœ… ç”¨æˆ·ä¿¡æ¯ç»Ÿä¸€
- âœ… è¯é¢˜å†…å®¹ç»Ÿä¸€
- âœ… æ´»åŠ¨æ•°æ®ç»Ÿä¸€
- âœ… è¯„è®ºäº’åŠ¨ç»Ÿä¸€

### 2. åŠŸèƒ½åŒæ­¥

**ä¸¤ç«¯åŠŸèƒ½ä¿æŒä¸€è‡´**

- âœ… ç›¸åŒçš„æ ¸å¿ƒåŠŸèƒ½
- âœ… ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘
- âœ… ç›¸åŒçš„ç”¨æˆ·ä½“éªŒ

### 3. è®¾è®¡ç»Ÿä¸€

**ç›¸åŒçš„è®¾è®¡è¯­è¨€**

- âœ… ç»Ÿä¸€çš„è‰²å½©ç³»ç»Ÿ
- âœ… ç»Ÿä¸€çš„ç»„ä»¶æ ·å¼
- âœ… ç»Ÿä¸€çš„äº¤äº’æ–¹å¼

---

## ğŸ“± åŒç«¯å¯¹æ¯”

| ç‰¹æ€§ | ç½‘é¡µç‰ˆ | å°ç¨‹åºç‰ˆ | è¯´æ˜ |
|------|--------|----------|------|
| **æŠ€æœ¯æ ˆ** | React + Vite | åŸç”Ÿå¾®ä¿¡å°ç¨‹åº | ä¸åŒæŠ€æœ¯å®ç°ç›¸åŒåŠŸèƒ½ |
| **æ ·å¼æ–¹æ¡ˆ** | Tailwind CSS | WXSS | ç›¸åŒçš„è®¾è®¡æ•ˆæœ |
| **è·¯ç”±æ–¹æ¡ˆ** | React Router | åŸç”Ÿå¯¼èˆª | ä¸åŒå®ç°ï¼Œç›¸åŒä½“éªŒ |
| **çŠ¶æ€ç®¡ç†** | Zustand | é¡µé¢ data | æ ¹æ®éœ€è¦é€‰æ‹© |
| **HTTP è¯·æ±‚** | Axios | wx.request | ç»Ÿä¸€å°è£… |
| **æœ¬åœ°å­˜å‚¨** | localStorage | wx.storage | ç»Ÿä¸€æ¥å£ |
| **ç”¨æˆ·è®¤è¯** | JWT Token | JWT Token | å®Œå…¨ç»Ÿä¸€ |
| **åç«¯ API** | âœ… ç»Ÿä¸€ | âœ… ç»Ÿä¸€ | **æ ¸å¿ƒï¼** |

---

## ğŸ”Œ ç»Ÿä¸€åç«¯ API

### API åŸºç¡€åœ°å€

```
å¼€å‘ç¯å¢ƒ: http://localhost:3000/api
ç”Ÿäº§ç¯å¢ƒ: https://api.ieclub.online/api
```

### æ ¸å¿ƒæ¥å£

#### 1. ç”¨æˆ·æ¨¡å—

```javascript
// ç™»å½•
POST /api/auth/login
Body: { phone, code }
Response: { token, user }

// è·å–ç”¨æˆ·ä¿¡æ¯
GET /api/users/:id
Headers: { Authorization: Bearer <token> }
Response: { id, name, avatar, ... }
```

#### 2. è¯é¢˜æ¨¡å—

```javascript
// è·å–è¯é¢˜åˆ—è¡¨
GET /api/topics?type=all&page=1&limit=20
Response: { topics: [...], total, page }

// è·å–è¯é¢˜è¯¦æƒ…
GET /api/topics/:id
Response: { id, title, content, ... }

// å‘å¸ƒè¯é¢˜
POST /api/topics
Body: { type, title, content, tags }
Response: { id, ... }
```

#### 3. ç¤¾åŒºæ¨¡å—

```javascript
// è·å–ç”¨æˆ·åˆ—è¡¨
GET /api/users?page=1&limit=20
Response: { users: [...], total }

// å…³æ³¨ç”¨æˆ·
POST /api/users/:id/follow
Response: { success: true }
```

#### 4. æ´»åŠ¨æ¨¡å—

```javascript
// è·å–æ´»åŠ¨åˆ—è¡¨
GET /api/activities
Response: { activities: [...] }

// æŠ¥åæ´»åŠ¨
POST /api/activities/:id/register
Response: { success: true }
```

---

## ğŸ’» ç½‘é¡µç‰ˆå®ç°

### ç›®å½•ç»“æ„

```
ieclub-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API å°è£…
â”‚   â”‚   â”œâ”€â”€ request.js   # è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.js      # è®¤è¯æ¥å£
â”‚   â”‚   â”œâ”€â”€ topic.js     # è¯é¢˜æ¥å£
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”œâ”€â”€ pages/           # é¡µé¢
â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ App.jsx
```

### API å°è£…ç¤ºä¾‹

```javascript
// src/api/request.js
import axios from 'axios'

const request = axios.create({
  baseURL: '/api',
  timeout: 10000
})

// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(config => {
  const token = localStorage.getItem('token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  response => response.data,
  error => Promise.reject(error)
)

export default request
```

```javascript
// src/api/topic.js
import request from './request'

export const getTopics = (params) => {
  return request.get('/topics', { params })
}

export const getTopic = (id) => {
  return request.get(`/topics/${id}`)
}

export const createTopic = (data) => {
  return request.post('/topics', data)
}
```

---

## ğŸ“± å°ç¨‹åºå®ç°

### ç›®å½•ç»“æ„

```
ieclub-taro/
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ request.js       # è¯·æ±‚å°è£…
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth.js         # è®¤è¯æ¥å£
â”‚   â”œâ”€â”€ topic.js        # è¯é¢˜æ¥å£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ pages/              # é¡µé¢
â””â”€â”€ app.js
```

### API å°è£…ç¤ºä¾‹

```javascript
// utils/request.js
const request = (url, options = {}) => {
  return new Promise((resolve, reject) => {
    const app = getApp()
    
    wx.request({
      url: app.globalData.apiBase + url,
      method: options.method || 'GET',
      data: options.data,
      header: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + wx.getStorageSync('token')
      },
      success: (res) => {
        if (res.statusCode === 200) {
          resolve(res.data)
        } else {
          reject(res)
        }
      },
      fail: reject
    })
  })
}

export default request
```

```javascript
// api/topic.js
import request from '../utils/request'

export const getTopics = (params) => {
  return request('/topics', {
    method: 'GET',
    data: params
  })
}

export const getTopic = (id) => {
  return request(`/topics/${id}`)
}

export const createTopic = (data) => {
  return request('/topics', {
    method: 'POST',
    data
  })
}
```

---

## ğŸ” ç”¨æˆ·è®¤è¯ç»Ÿä¸€æ–¹æ¡ˆ

### æµç¨‹

```
1. ç”¨æˆ·ç™»å½• â†’ åç«¯éªŒè¯ â†’ è¿”å› JWT Token
2. å‰ç«¯å­˜å‚¨ Token
   - ç½‘é¡µç‰ˆ: localStorage.setItem('token', token)
   - å°ç¨‹åº: wx.setStorageSync('token', token)
3. æ¯æ¬¡è¯·æ±‚æºå¸¦ Token
   - Header: Authorization: Bearer <token>
4. åç«¯éªŒè¯ Token â†’ è¿”å›ç”¨æˆ·ä¿¡æ¯
```

### Token ç®¡ç†

**ç½‘é¡µç‰ˆ**:
```javascript
// ä¿å­˜ Token
localStorage.setItem('token', token)

// è·å– Token
const token = localStorage.getItem('token')

// åˆ é™¤ Token
localStorage.removeItem('token')
```

**å°ç¨‹åºç‰ˆ**:
```javascript
// ä¿å­˜ Token
wx.setStorageSync('token', token)

// è·å– Token
const token = wx.getStorageSync('token')

// åˆ é™¤ Token
wx.removeStorageSync('token')
```

---

## ğŸ“¦ æ•°æ®åŒæ­¥æœºåˆ¶

### å®æ—¶åŒæ­¥

ç”¨æˆ·åœ¨ä»»ä¸€ç«¯çš„æ“ä½œéƒ½ä¼šç«‹å³åæ˜ åˆ°å¦ä¸€ç«¯ï¼š

1. **ç”¨æˆ·åœ¨ç½‘é¡µå‘å¸ƒè¯é¢˜** â†’ åç«¯åˆ›å»º â†’ å°ç¨‹åºåˆ·æ–°å¯è§
2. **ç”¨æˆ·åœ¨å°ç¨‹åºå…³æ³¨ä»–äºº** â†’ åç«¯æ›´æ–° â†’ ç½‘é¡µåˆ·æ–°å¯è§
3. **ç”¨æˆ·åœ¨ç½‘é¡µä¿®æ”¹èµ„æ–™** â†’ åç«¯æ›´æ–° â†’ å°ç¨‹åºåŒæ­¥æ˜¾ç¤º

### ç¼“å­˜ç­–ç•¥

**ç½‘é¡µç‰ˆ**:
```javascript
// ä½¿ç”¨ localStorage + Redis
// é¦–æ¬¡åŠ è½½ä»æœåŠ¡å™¨è·å–
// åç»­è®¿é—®å…ˆè¯»ç¼“å­˜
// åå°å¼‚æ­¥æ›´æ–°
```

**å°ç¨‹åºç‰ˆ**:
```javascript
// ä½¿ç”¨ wx.storage + Redis
// ä¸ç½‘é¡µç‰ˆç›¸åŒç­–ç•¥
```

---

## ğŸ¨ UI ç»Ÿä¸€è§„èŒƒ

### è‰²å½©ç³»ç»Ÿ

```css
/* ä¸¤ç«¯ä½¿ç”¨ç›¸åŒçš„è‰²å€¼ */
--primary: #8b5cf6;
--gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
--text-primary: #333;
--text-secondary: #666;
--text-tertiary: #999;
--background: #f5f5f5;
```

### ç»„ä»¶å¯¹ç…§

| åŠŸèƒ½ | ç½‘é¡µç‰ˆ | å°ç¨‹åºç‰ˆ |
|------|--------|----------|
| è¯é¢˜å¡ç‰‡ | `TopicCard.jsx` | `<view class="topic-card">` |
| ç”¨æˆ·å¡ç‰‡ | `UserCard.jsx` | `<view class="user-card">` |
| å¯¼èˆªæ  | `<Layout>` | `<tabBar>` |
| æŒ‰é’® | `<button className="btn-primary">` | `<button class="btn-primary">` |

---

## ğŸ“ å¼€å‘æµç¨‹

### æ–°å¢åŠŸèƒ½

1. **åç«¯å¼€å‘** (ä¼˜å…ˆ)
   ```bash
   # åœ¨ ieclub-backend ä¸­å¼€å‘
   # æ·»åŠ è·¯ç”±ã€æ§åˆ¶å™¨ã€æœåŠ¡
   # æµ‹è¯• API
   ```

2. **ç½‘é¡µç‰ˆå¼€å‘**
   ```bash
   cd ieclub-web
   # åˆ›å»ºé¡µé¢/ç»„ä»¶
   # å¯¹æ¥ API
   # æµ‹è¯•åŠŸèƒ½
   ```

3. **å°ç¨‹åºå¼€å‘**
   ```bash
   cd ieclub-taro
   # åˆ›å»ºé¡µé¢
   # å¯¹æ¥ API
   # æµ‹è¯•åŠŸèƒ½
   ```

### è°ƒè¯•

**åŒæ—¶å¯åŠ¨ä¸‰ä¸ªæœåŠ¡**:

```bash
# Terminal 1: åç«¯
cd ieclub-backend
npm run dev

# Terminal 2: ç½‘é¡µç‰ˆ
cd ieclub-web
npm run dev

# Terminal 3: å°ç¨‹åº
# æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
# å¯¼å…¥ ieclub-taro ç›®å½•
```

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### åç«¯

```bash
# éƒ¨ç½²åˆ°æœåŠ¡å™¨
docker-compose up -d
```

### ç½‘é¡µç‰ˆ

```bash
# æ„å»º
cd ieclub-web
npm run build

# éƒ¨ç½²åˆ° Nginx
cp -r dist/* /var/www/ieclub-web/
```

### å°ç¨‹åº

```
# ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·
1. ç‚¹å‡»"ä¸Šä¼ "
2. å¡«å†™ç‰ˆæœ¬å·å’Œå¤‡æ³¨
3. æäº¤å®¡æ ¸
4. å®¡æ ¸é€šè¿‡åå‘å¸ƒ
```

---

## ğŸ“Š å¼€å‘ä¼˜å…ˆçº§

### Phase 1: åŸºç¡€åŠŸèƒ½ âœ…

- âœ… åç«¯ API å®Œæ•´
- âœ… ç½‘é¡µç‰ˆåŸºç¡€é¡µé¢
- âœ… å°ç¨‹åºåŸºç¡€é¡µé¢

### Phase 2: æ•°æ®å¯¹æ¥ ğŸ”„

- ğŸ”„ ç»Ÿä¸€ API å°è£…
- ğŸ”„ ç”¨æˆ·è®¤è¯ç»Ÿä¸€
- ğŸ”„ æ•°æ®å®æ—¶åŒæ­¥

### Phase 3: åŠŸèƒ½å®Œå–„ â³

- â³ è¯¦æƒ…é¡µ
- â³ æœç´¢åŠŸèƒ½
- â³ æ¶ˆæ¯é€šçŸ¥

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯åš

1. **å¯åŠ¨ç½‘é¡µç‰ˆ**
   ```bash
   cd ieclub-web
   npm install
   npm run dev
   ```

2. **åŒæ—¶æµ‹è¯•å°ç¨‹åº**
   - æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
   - å¯¼å…¥ ieclub-taro
   - ç‚¹å‡»ç¼–è¯‘

3. **ç¡®è®¤åç«¯è¿è¡Œ**
   ```bash
   cd ieclub-backend
   npm run dev
   ```

### æœ¬å‘¨ç›®æ ‡

- [ ] ç½‘é¡µç‰ˆå’Œå°ç¨‹åºéƒ½å¯¹æ¥ç™»å½•æ¥å£
- [ ] å®ç° Token ç»Ÿä¸€ç®¡ç†
- [ ] å®Œæˆè¯é¢˜åˆ—è¡¨æ•°æ®åŒæ­¥

---

Made with â¤ï¸ by IEClub Team

