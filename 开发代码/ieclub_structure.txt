# ğŸ—ï¸ IEClub ç¤¾ç¾¤ç®¡ç†ç³»ç»Ÿ - å®Œæ•´é¡¹ç›®ç»“æ„

## ğŸ“¦ é¡¹ç›®æ€»è§ˆ

```
ieclub_dev/
â”œâ”€â”€ ieclub-backend/          # åç«¯æœåŠ¡ (Node.js + Prisma + MySQL)
â”œâ”€â”€ ieclub-taro/             # å‰ç«¯åº”ç”¨ (Taro + React)
â””â”€â”€ docs/                    # æ–‡æ¡£ç›®å½•
```

---

## ğŸ”§ åç«¯ç»“æ„ (ieclub-backend/)

```
ieclub-backend/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma        # æ•°æ®åº“æ¨¡å‹å®šä¹‰ â­
â”‚   â””â”€â”€ migrations/          # æ•°æ®åº“è¿ç§»è®°å½•
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.js            # æœåŠ¡å™¨å…¥å£ â­
â”‚   â”œâ”€â”€ app.js               # Express åº”ç”¨é…ç½® â­
â”‚   â”‚
â”‚   â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ database.js      # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ wechat.js        # å¾®ä¿¡é…ç½®
â”‚   â”‚   â””â”€â”€ constants.js     # å¸¸é‡å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/              # è·¯ç”±å®šä¹‰ â­
â”‚   â”‚   â”œâ”€â”€ index.js         # è·¯ç”±èšåˆ
â”‚   â”‚   â”œâ”€â”€ auth.js          # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.js         # ç”¨æˆ·è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ topics.js        # è¯é¢˜è·¯ç”± â­
â”‚   â”‚   â”œâ”€â”€ comments.js      # è¯„è®ºè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ projects.js      # é¡¹ç›®è·¯ç”±
â”‚   â”‚   â””â”€â”€ upload.js        # æ–‡ä»¶ä¸Šä¼ è·¯ç”±
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/         # æ§åˆ¶å™¨ â­
â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”œâ”€â”€ userController.js
â”‚   â”‚   â”œâ”€â”€ topicController.js    # è¯é¢˜æ§åˆ¶å™¨ â­
â”‚   â”‚   â”œâ”€â”€ commentController.js
â”‚   â”‚   â”œâ”€â”€ projectController.js
â”‚   â”‚   â””â”€â”€ uploadController.js
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ wechatService.js      # å¾®ä¿¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ recommendService.js   # æ¨èç®—æ³• â­
â”‚   â”‚   â”œâ”€â”€ notificationService.js
â”‚   â”‚   â””â”€â”€ uploadService.js
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js          # JWT è®¤è¯
â”‚   â”‚   â”œâ”€â”€ errorHandler.js  # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ validator.js     # è¯·æ±‚éªŒè¯
â”‚   â”‚   â””â”€â”€ rateLimiter.js   # é¢‘ç‡é™åˆ¶
â”‚   â”‚
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.js        # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ response.js      # å“åº”æ ¼å¼åŒ–
â”‚       â””â”€â”€ helpers.js       # è¾…åŠ©å‡½æ•°
â”‚
â”œâ”€â”€ scripts/                 # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ seed.js              # æ•°æ®å¡«å……è„šæœ¬ â­
â”‚   â””â”€â”€ testData.js          # æµ‹è¯•æ•°æ®ç”Ÿæˆ
â”‚
â”œâ”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ integration/
â”‚
â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡ (ä¸æäº¤)
â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ package.json             # ä¾èµ–ç®¡ç†
â”œâ”€â”€ ecosystem.config.js      # PM2 é…ç½®
â””â”€â”€ README.md
```

---

## ğŸ¨ å‰ç«¯ç»“æ„ (ieclub-taro/)

```
ieclub-taro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.config.ts        # åº”ç”¨é…ç½® â­
â”‚   â”œâ”€â”€ app.tsx              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ app.scss             # å…¨å±€æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶ â­
â”‚   â”‚   â”œâ”€â”€ index/           # é¦–é¡µ(å¹¿åœº) â­
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ index.config.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ topics/          # è¯é¢˜é¡µé¢ â­â­â­
â”‚   â”‚   â”‚   â”œâ”€â”€ index/           # è¯é¢˜åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.config.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚   â”œâ”€â”€ create/          # åˆ›å»ºè¯é¢˜
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚   â””â”€â”€ detail/          # è¯é¢˜è¯¦æƒ…
â”‚   â”‚   â”‚       â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚       â””â”€â”€ index.scss
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ projects/        # é¡¹ç›®é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ index/
â”‚   â”‚   â”‚   â””â”€â”€ detail/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ profile/         # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ index/
â”‚   â”‚   â”‚   â””â”€â”€ edit/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ auth/            # è®¤è¯é¡µé¢
â”‚   â”‚       â””â”€â”€ login/
â”‚   â”‚
â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶ â­
â”‚   â”‚   â”œâ”€â”€ TabBar/          # åº•éƒ¨å¯¼èˆª â­
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ TopicCard/       # è¯é¢˜å¡ç‰‡ â­
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ FloatButton/     # æ‚¬æµ®æŒ‰é’®(åŠ å·) â­
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.scss
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ImageUploader/   # å›¾ç‰‡ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ CommentList/     # è¯„è®ºåˆ—è¡¨
â”‚   â”‚   â””â”€â”€ UserAvatar/      # ç”¨æˆ·å¤´åƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # API æœåŠ¡ â­
â”‚   â”‚   â”œâ”€â”€ request.ts       # è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.ts          # è®¤è¯ API
â”‚   â”‚   â”œâ”€â”€ topic.ts         # è¯é¢˜ API â­
â”‚   â”‚   â”œâ”€â”€ project.ts       # é¡¹ç›® API
â”‚   â”‚   â””â”€â”€ user.ts          # ç”¨æˆ· API
â”‚   â”‚
â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç† (Zustand/Redux)
â”‚   â”‚   â”œâ”€â”€ user.ts          # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ topic.ts         # è¯é¢˜çŠ¶æ€
â”‚   â”‚   â””â”€â”€ app.ts           # åº”ç”¨çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ formatTime.ts    # æ—¶é—´æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ storage.ts       # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â””â”€â”€ validator.ts     # éªŒè¯å·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/              # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ variables.scss   # SCSS å˜é‡
â”‚   â”‚   â”œâ”€â”€ mixins.scss      # SCSS æ··å…¥
â”‚   â”‚   â””â”€â”€ common.scss      # å…¬å…±æ ·å¼
â”‚   â”‚
â”‚   â””â”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ topic.ts         # è¯é¢˜ç±»å‹
â”‚       â”œâ”€â”€ user.ts          # ç”¨æˆ·ç±»å‹
â”‚       â””â”€â”€ common.ts        # å…¬å…±ç±»å‹
â”‚
â”œâ”€â”€ config/                  # æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ index.js             # ä¸»é…ç½®
â”‚   â”œâ”€â”€ dev.js               # å¼€å‘ç¯å¢ƒ
â”‚   â””â”€â”€ prod.js              # ç”Ÿäº§ç¯å¢ƒ
â”‚
â”œâ”€â”€ dist/                    # æ„å»ºè¾“å‡º (ä¸æäº¤)
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â””â”€â”€ project.config.json      # å°ç¨‹åºé…ç½®
```

---

## ğŸ—‚ï¸ æ•°æ®åº“è¡¨ç»“æ„

### æ ¸å¿ƒè¡¨

1. **User** - ç”¨æˆ·è¡¨
2. **Topic** - è¯é¢˜è¡¨ â­â­â­
3. **Comment** - è¯„è®ºè¡¨
4. **Like** - ç‚¹èµè¡¨
5. **Project** - é¡¹ç›®è¡¨
6. **Notification** - é€šçŸ¥è¡¨
7. **TopicQuickAction** - è¯é¢˜å¿«é€Ÿæ“ä½œè®°å½•
8. **UserAction** - ç”¨æˆ·è¡Œä¸ºè®°å½•(ç”¨äºæ¨è)

---

## ğŸ”‘ å…³é”®åŠŸèƒ½æ¨¡å—

### 1. è¯é¢˜ç³»ç»Ÿ (Topics) â­â­â­
- è¯é¢˜åˆ—è¡¨(ç­›é€‰ã€æ’åºã€åˆ†é¡µ)
- åˆ›å»ºè¯é¢˜(å¤šåª’ä½“ã€æ ‡ç­¾ã€å¿«é€Ÿæ“ä½œ)
- è¯é¢˜è¯¦æƒ…(è¯„è®ºã€ç‚¹èµã€åˆ†äº«)
- æ™ºèƒ½æ¨è

### 2. é¡¹ç›®ç³»ç»Ÿ (Projects)
- é¡¹ç›®å‘å¸ƒ
- é¡¹ç›®åŒ¹é…

### 3. ç”¨æˆ·ç³»ç»Ÿ (Users)
- å¾®ä¿¡ç™»å½•
- ä¸ªäººèµ„æ–™
- ç§¯åˆ†ç³»ç»Ÿ

### 4. äº’åŠ¨ç³»ç»Ÿ
- è¯„è®º(æ”¯æŒå¤šå±‚åµŒå¥—)
- ç‚¹èµ
- æ”¶è—
- é€šçŸ¥

---

## ğŸ“ éœ€è¦ç¼–å†™çš„æ ¸å¿ƒæ–‡ä»¶ (æŒ‰ä¼˜å…ˆçº§)

### ğŸ”¥ P0 - ç«‹å³éœ€è¦
1. `ieclub-backend/prisma/schema.prisma` - æ•°æ®åº“æ¨¡å‹
2. `ieclub-backend/src/controllers/topicController.js` - è¯é¢˜æ§åˆ¶å™¨
3. `ieclub-backend/src/routes/topics.js` - è¯é¢˜è·¯ç”±
4. `ieclub-backend/scripts/seed.js` - æ•°æ®å¡«å……è„šæœ¬
5. `ieclub-taro/src/pages/topics/index/index.tsx` - è¯é¢˜åˆ—è¡¨é¡µ
6. `ieclub-taro/src/components/FloatButton/index.tsx` - æ‚¬æµ®åŠ å·æŒ‰é’®
7. `ieclub-taro/src/components/TopicCard/index.tsx` - è¯é¢˜å¡ç‰‡ç»„ä»¶

### âš¡ P1 - ä¼˜å…ˆçº§é«˜
8. `ieclub-backend/src/services/recommendService.js` - æ¨èç®—æ³•
9. `ieclub-taro/src/pages/topics/create/index.tsx` - åˆ›å»ºè¯é¢˜é¡µ
10. `ieclub-taro/src/pages/topics/detail/index.tsx` - è¯é¢˜è¯¦æƒ…é¡µ
11. `ieclub-taro/src/components/TabBar/index.tsx` - åº•éƒ¨å¯¼èˆª
12. `ieclub-taro/src/services/topic.ts` - è¯é¢˜ API

### ğŸ“¦ P2 - åç»­å®Œå–„
13. è¯„è®ºç³»ç»Ÿ
14. é€šçŸ¥ç³»ç»Ÿ
15. æœç´¢åŠŸèƒ½
16. ä¸ªäººä¸­å¿ƒ

---

## ğŸš€ éƒ¨ç½²æµç¨‹

1. **å¼€å‘ç¯å¢ƒ**
   ```bash
   # åç«¯
   cd ieclub-backend
   npm install
   npx prisma migrate dev
   npm run dev
   
   # å‰ç«¯
   cd ieclub-taro
   npm install
   npm run dev:h5
   ```

2. **ç”Ÿäº§éƒ¨ç½²**
   ```bash
   # åç«¯
   pm2 start ecosystem.config.js
   
   # å‰ç«¯
   npm run build:h5
   scp dist.zip root@server:/var/www/
   ```
